library IEEE;
use IEEE.STD_LOGIC_1164.ALL;

entity TB_CronometroDigital is
end TB_CronometroDigital;

architecture Simulacao of TB_CronometroDigital is
    signal clk     : STD_LOGIC := '0';
    signal start   : STD_LOGIC := '0';
    signal reset   : STD_LOGIC := '0';
    signal anodo   : STD_LOGIC_VECTOR(2 downto 0);
    signal saida_7seg : STD_LOGIC_VECTOR(6 downto 0);

    component CronometroDigital
        Port ( clk : in  STD_LOGIC;
               start : in  STD_LOGIC;
               reset : in  STD_LOGIC;
               anodo : out STD_LOGIC_VECTOR(2 downto 0);
               saida_7seg : out STD_LOGIC_VECTOR(6 downto 0));
    end component;

begin
    DUT: CronometroDigital
        Port map(clk, start, reset, anodo, saida_7seg);

    process
    begin
        -- Simula o clock
        while true loop
            clk <= '0';
            wait for 10 ns;
            clk <= '1';
            wait for 10 ns;
        end loop;
    end process;

    process
    begin
        wait for 100 ns;
        reset <= '1';
        wait for 100 ns;
        reset <= '0';
        start <= '1';
        wait for 100 ns;
        start <= '0';
        wait for 500 ns; -- Simula 5 segundos
        start <= '1'; -- Pausar
        wait for 100 ns;
        start <= '0';
        wait for 200 ns; -- Simula pausa
        start <= '1'; -- Retomar
        wait for 100 ns;
        start <= '0';
        wait;
    end process;

end Simulacao;
